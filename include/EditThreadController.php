<?phpdeclare(strict_types=1);namespace App;class EditThreadController extends BaseController{    protected string $id_threads;    private string $thread_name = '';    private string $description = '';    private string $titl = '';    private string $tex = '';    private string $error = '';    protected function OnInput(): void    {        parent::OnInput();        $db = new Database();        $this->title .= ' :: Редактирование темы';        $threadId = isset($_GET['thread']) ? (int)$_GET['thread'] : 0;        if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['submitForm'])) {            $this->thread_name = $_POST['thread_name'] ?? '';            $this->description = $_POST['description'] ?? '';            $this->titl = $_POST['titl'] ?? '';            $this->tex = $_POST['text'] ?? '';            if ($threadId > 0) {                $db->thread_update($threadId, $this->thread_name, $this->description, $this->titl, $this->tex);                header('Location: index.php');                exit;            }        } elseif ($threadId > 0) {            $res = $db->thread_select_thread($threadId)->fetch();            $this->thread_name = $res['thread_name'];            $this->description = $res['description'];            $this->titl = $res['title'];            $this->tex = $res['text'] ?? '';            $this->id_threads = (string)$threadId;        }    }    protected function OnOutput(): void    {        $vars = [            'description' => $this->description,            'thread_name' => $this->thread_name,            'id_thread' => $this->id_threads,            'titl' => $this->titl,            'text' => $this->tex,        ];        $this->content = $this->Template('templates/v_editthread.php', $vars);        parent::OnOutput();    }}