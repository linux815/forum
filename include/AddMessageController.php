<?phpnamespace App;class AddMessageController extends BaseController{    private string $header = '';    private string $post_text = '';    private string $titl = '';    private string $text = '';    private ?string $error = null;    private string $name = '';    private mixed $res;    protected function OnInput(): void    {        parent::OnInput();        $this->title .= ' :: Отправка сообщения';        $database = new Database();        $mUsers = Users::Instance();        // Очистка старых сессий        $mUsers->ClearSessions();        // Текущий пользователь        $this->user = $mUsers->Get();        if (isset($_POST['submitForm'])) {            $this->post_text = $_POST['text'] ?? '';            $this->name = $_POST['otv'] ?? '';            $id_user_send = $this->user['id_user'];            $title = $_POST['theme'] ?? '';            $send_count = 1;            $take_count = 0;            $mUsers->message_insert(                $id_user_send,                $this->name,                $this->post_text,                $title,                $send_count,                $take_count,            );            header('Location: index.php');            exit;        } else {            $id_posts = $_GET['post'] ?? null;            $this->res = $mUsers->Loging($this->user['id_user']);        }    }    protected function OnOutput(): void    {        $vars = [            'header' => $this->header,            'post_text' => $this->post_text,            'id_thread' => $this->id_threads ?? null,            'name' => $this->name,            'res' => $this->res,        ];        $this->content = $this->Template('templates/v_addmessage.php', $vars);        parent::OnOutput();    }}