<?phpinclude_once('include/class_base.php');include_once('include/class_database.php');//// Контроллер страницы редактирования.//class C_EditThread extends C_Base{	private $thread_name;  // заголовок	private $description;	// текст	private $titl;	private $tex;	private $error;	// сообщение об ошибке	//	// Конструктор.	//	function __construct()	{			}		//	// Виртуальный обработчик запроса.	//	protected function OnInput()	{		parent::OnInput();				$database = new Database();				$this->title = $this->title . ' :: Редактирование темы';				if ($_POST['submitForm'])		{			$thread_name = $_POST['thread_name'];			$description = $_POST['description'];			$titl = $_POST['titl'];			$text = $_POST['text'];			$id_threads = $_GET['thread'];						// удачная отправка формы			$database->thread_update($id_threads, $thread_name, $description, $titl, $text);						header('Location: index.php');			die();				}		else		{					// запрос формы			$id_threads = $_GET['thread'];			$res = $database->thread_select_thread($id_threads)->fetch();  			$thread_name=$res['thread_name']; 			$description=$res['description'];			$titl=$res['title'];			$text=$res['text'];			$this->thread_name = $thread_name;				$this->description = $description;			$this->titl = $titl;			$this->tex = $text;			$id_threads = $_GET['thread'];			$this->id_threads = $id_threads;		}	}		//	// Виртуальный генератор HTML.	//		protected function OnOutput()	{		$vars = array('description' => $this->description, 'thread_name' => $this->thread_name, 'id_thread' => $this->id_threads, 'titl' => $this->titl, 'tex' => $this->tex);			$this->content = $this->Template('templates/v_editthread.php', $vars);		parent::OnOutput();	}	}