<?phpnamespace App;class AddThreadController extends BaseController{    protected ?array $user = [];    private string $thread_name = '';    private string $description = '';    private string $titl = '';    private string $tex = '';    private string $error = '';    protected function OnInput(): void    {        parent::OnInput();        $database = new Database();        $this->title .= ' :: Добавление темы';        // Менеджер пользователей        $users = Users::Instance();        $users->ClearSessions();        $this->user = $users->Get();        if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['submitForm'])) {            $forum_id = $_GET['id'] ?? null;            $this->thread_name = $_POST['theme'] ?? '';            $this->description = $_POST['description'] ?? '';            $this->titl = '';            $this->tex = $_POST['text'] ?? '';            if ($forum_id && $this->user) {                $database->thread_insert(                    $forum_id,                    $this->thread_name,                    $this->description,                    $this->titl,                    $this->tex,                    $this->user['id_user'],                    $this->user['id_user'],                    $this->user['name'],                );                $database->forum_update_stat($forum_id);                header('Location: index.php?c=showforum&id=' . $forum_id . '&page=1');                exit;            }        }    }    protected function OnOutput(): void    {        $vars = [            'description' => $this->description,            'thread_name' => $this->thread_name,            'id_thread' => $this->id_threads ?? null,            'titl' => $this->titl,            'tex' => $this->tex,            'user' => $this->user,        ];        $this->content = $this->Template('templates/v_addthread.php', $vars);        parent::OnOutput();    }}