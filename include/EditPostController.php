<?phpdeclare(strict_types=1);namespace App;class EditPostController extends BaseController{    protected string $id_posts = '0';    private string $post_text = '';    protected function OnInput(): void    {        parent::OnInput();        $database = new Database();        $this->title .= ' :: Редактирование сообщения';        if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['submitForm'])) {            $post_text = $_POST['text'] ?? '';            $id_posts = (int)($_GET['post'] ?? 0);            if ($id_posts > 0) {                $database->post_update($id_posts, $post_text);                header('Location: index.php');                exit;            }            // TODO: обработка ошибки, если id_posts некорректен        } else {            $id_posts = (int)($_GET['post'] ?? 0);            if ($id_posts > 0) {                $res = $database->post_select_post($id_posts)->fetch();                if ($res) {                    $this->post_text = $res['post_text'] ?? '';                    $this->id_posts = (string)$id_posts;                } else {                    // TODO: обработка ошибки, если пост не найден                }            } else {                // TODO: обработка ошибки, если отсутствует GET['post']            }        }    }    protected function OnOutput(): void    {        $vars = [            'text' => $this->post_text,            'id_posts' => $this->id_posts,        ];        $this->content = $this->Template('templates/v_editpost.php', $vars);        parent::OnOutput();    }}