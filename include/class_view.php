<?phpinclude_once('include/class_base.php');include_once('include/class_database.php');include_once('include/class_user.php');//// Конттроллер страницы чтения.//class C_View extends C_Base{	private $array_forums;	// Массив форумов	public $user; // Пользователи	public $online; // Количество пользователей в онлайн	public $online_user; // Кто в онлайн    private $i; // Счетчик    private $thread;	//	// Конструктор.	//	function __construct()	{		session_start();			}			//	// Виртуальный обработчик запроса.	//	protected function OnInput()	{				$database = new Database();		parent::OnInput();		$this->title = $this->title . ' :: Список форумов';						// Менеджеры.		$mUsers = M_Users::Instance();				// Очистка старых сессий.		$mUsers->ClearSessions();				// Текущий пользователь.		$this->user = $mUsers->Get();		$this->online = $mUsers->Can();		if ($this->online == "") echo $this->online = "";		else {		// Сколько пользователей в онлайн		foreach($mUsers->Can() as $online) 		{			$this->i++;		}				$this->online = $this->i;		}		// Кто в онлайне		$this->online_user = $mUsers->IsOnline();					// Выборка форумов		$this->array_forums = $database->forums_select();			}		//	// Виртуальный генератор HTML.	//		protected function OnOutput()	{		$vars = array('array_forums' => $this->array_forums, 'user' => $this->user, 'online' => $this->online, 'online_user' => $this->online_user, 'array_podforums' => $this->array_podforums);			$this->content = $this->Template('templates/v_view.php', $vars);		parent::OnOutput();	}	}