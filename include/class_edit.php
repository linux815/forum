<?phpinclude_once('include/class_base.php');include_once('include/class_database.php');//// Контроллер страницы редактирования.//class C_Edit extends C_Base{	private $forum_name;  // заголовок	private $description;	// текст	private $error;	// сообщение об ошибке	//	// Конструктор.	//	function __construct()	{			}		//	// Виртуальный обработчик запроса.	//	protected function OnInput()	{		parent::OnInput();				$database = new Database();				$this->title = $this->title . ' :: Редактирование форума';				if ($this->IsPost())		{			$forum_name = $_POST['forum_name'];			$description = $_POST['description'];			$id_forums = $_GET['forum'];						// удачная отправка формы			$database->forum_update($id_forums, $forum_name, $description);						header('Location: index.php');			die();				}		else		{					// запрос формы			$id_forums = $_GET['forum'];			$res = $database->forums_select_forum($id_forums)->fetch();  			$forum_name=$res['forum_name']; 			$description=$res['description'];			$this->forum_name = $forum_name;				$this->description = $description;			$id_forums = $_GET['forum'];			$this->id_forums = $id_forums;		}	}		//	// Виртуальный генератор HTML.	//		protected function OnOutput()	{		$vars = array('description' => $this->description, 'forum_name' => $this->forum_name, 'id_forums' => $this->id_forums);			$this->content = $this->Template('templates/v_edit.php', $vars);		parent::OnOutput();	}	}