<?phpinclude_once('include/class_base.php');include_once('include/class_database.php');//// Контроллер страницы редактирования.//class C_EditPost extends C_Base{	private $post_text;  // заголовок	private $error;	// сообщение об ошибке	//	// Конструктор.	//	function __construct()	{			}		//	// Виртуальный обработчик запроса.	//	protected function OnInput()	{		parent::OnInput();				$database = new Database();				$this->title = $this->title . ' :: Редактирование сообщения';				if (isset($_POST['submitForm']))		{			$post_text = $_POST['text'];			$id_posts = $_GET['post'];						// удачная отправка формы			$database->post_update($id_posts, $post_text);						header('Location: index.php');			die();				}		else		{					// запрос формы			$id_posts = $_GET['post'];			$res = $database->post_select_post($id_posts)->fetch();  			$post_text=$res['post_text']; 			$this->post_text = $post_text;			$id_posts = $_GET['post'];			$this->id_posts = $id_posts;		}	}		//	// Виртуальный генератор HTML.	//		protected function OnOutput()	{		$vars = array('post_text' => $this->post_text, 'id_posts' => $this->id_posts);			$this->content = $this->Template('templates/v_editpost.php', $vars);		parent::OnOutput();	}	}